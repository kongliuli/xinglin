# 项目整体设计

## 项目名称
病理检验报告系统

## 系统目标
打造一套面向医院检验科的本地化报告录入与打印工具，同时支持患者通过微信查询电子报告。系统需支持多种病人信息来源（如 HIS、身份证读卡器、API），采用可配置模板生成报告，并通过机器码实现软件授权与版本控制。

## 核心组成
- **WPF 客户端**：部署在科室电脑，负责录入、预览、打印报告。
- **内网服务端**：部署 in 医院内网，接收并存储归档报告，提供安全数据接口。
- **外网服务端**：部署在云服务器，对接微信公众号/小程序，供患者查询报告。
- **主控服务端**：管理所有医院的授权状态、模板版本和权限策略。

## 关键原则
1. 打印前必须先将完整报告上传至内网服务端归档。
2. 患者只能通过外网服务查询，不能直连内网数据库。
3. 数据源适配器采用插件化设计，新增来源只需添加模块+配置。
4. 软件激活绑定机器码，支持设置过期时间与功能权限。
