# 数据源适配器设计

适配器采用“插件 + 配置”模式，目标是让不同医院无需改代码即可接入各自的数据系统。

## 工作机制
- 每个数据源（如 HIS、读卡器）打包为独立 DLL，实现统一接口。
- 系统启动时，根据配置文件决定加载哪些适配器。
- 用户触发“获取病人信息”时，系统按优先级调用适配器（如先读卡，失败再查 HIS）。
- 所有适配器返回统一格式的病人信息对象，供界面使用。

## 配置方式
- 通过 JSON 文件定义每个适配器的连接参数（如数据库连接串、COM 口、API 地址）。
- 支持字段映射，将不同系统的字段名（如 PAT_NAME）映射到统一字段（如 Name）。
- 支持启用/禁用、设置默认激活项。

## 扩展性
- 新增数据源只需开发新 DLL 并放入指定目录，配合配置即可生效。
- 提供测试连接功能，便于信息科人员调试。
