# A_项目概述

## A.1 项目名称
病理检验报告系统（杏林）

## A.2 系统目标
A.2.1 核心目标：打造一套面向医院检验科的本地化报告录入与打印工具，同时支持患者通过微信查询电子报告。
A.2.2 技术目标：支持多种病人信息来源（如 HIS、身份证读卡器、API），采用可配置模板生成报告。
A.2.3 管理目标：通过机器码实现软件授权与版本控制，确保系统的安全性和可管理性。

## A.3 核心组成
A.3.1 WPF 客户端：部署在科室电脑，负责录入、预览、打印报告。
A.3.2 内网服务端：部署在医院内网，接收并存储归档报告，提供安全数据接口。
A.3.3 外网服务端：部署在云服务器，对接微信公众号/小程序，供患者查询报告。
A.3.4 主控服务端：管理所有医院的授权状态、模板版本和权限策略。

## A.4 关键原则
A.4.1 数据安全原则：打印前必须先将完整报告上传至内网服务端归档。
A.4.2 网络隔离原则：患者只能通过外网服务查询，不能直连内网数据库。
A.4.3 扩展性原则：数据源适配器采用插件化设计，新增来源只需添加模块+配置。
A.4.4 授权管理原则：软件激活绑定机器码，支持设置过期时间与功能权限。

## A.5 系统架构
A.5.1 分层架构：客户端层、服务层、数据层。
A.5.2 通信机制：内网服务与外网服务通过安全通道通信，客户端与服务端通过API交互。
A.5.3 数据流向：客户端→内网服务→数据库；患者→外网服务→内网服务→患者。